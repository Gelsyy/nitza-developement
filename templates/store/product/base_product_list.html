{% extends 'base/base_list.html' %}
{% block title %}
    Products
{% endblock title %}
{% block card %}
    <div class="demo-inline-spacing">
        <h5 class="card-header">
            Products <spam id="filter_tag"></spam>
        </h5>
    </div>
    <div class="card-body tabs">
        <div class="demo-inline-spacing mb-2">
            <button onClick="filterTag('all')"
                    type="button"
                    class="btn btn-icon btn-primary">all</button>
            {% for category in categories %}
                <button onClick="filterTag('{{ category.name }}')"
                        type="button"
                        class="btn btn-icon btn-outline-primary">
                    <img class="w-px-30 h-auto" src="{{ category.icon.url }}" alt="">
                </button>
            {% endfor %}
        </div>
        <div class="nav-align-top">
            <ul class="nav nav-pills nav-fill" role="tablist">
                <li class="nav-item">
                    <button type="button"
                            class="nav-link active"
                            role="tab"
                            data-bs-toggle="tab"
                            data-bs-target="#navs-pills-justified-home"
                            aria-controls="navs-pills-justified-home"
                            aria-selected="true">
                        <i class="tf-icons bx bx-repost"></i> Parts
                        {% if part_alerts > 0 %}
                            <span class="badge rounded-pill badge-center h-px-20 w-px-20 bg-danger">{{ part_alerts }}</span>
                        {% endif %}
                    </button>
                </li>
                <li class="nav-item">
                    <button type="button"
                            class="nav-link"
                            role="tab"
                            data-bs-toggle="tab"
                            data-bs-target="#navs-pills-justified-profile"
                            aria-controls="navs-pills-justified-profile"
                            aria-selected="false">
                        <i class="tf-icons bx bx-archive"></i> Consumables
                        {% if consumable_alerts > 0 %}
                            <span class="badge rounded-pill badge-center h-px-20 w-px-20 bg-danger">{{ consumable_alerts }}</span>
                        {% endif %}
                    </button>
                </li>
            </ul>
        </div>
        <div class="tab-content">
            <div class="tab-pane fade active show"
                 id="navs-pills-justified-home"
                 role="tabpanel">
                <div class="table-responsive text-nowrap">
                    <table class="table" id="table_parts">
                        {% block tableParts %}
                        {% endblock tableParts %}
                    </table>
                </div>
            </div>
            <div class="tab-pane fade"
                 id="navs-pills-justified-profile"
                 role="tabpanel">
                <div class="table-responsive text-nowrap">
                    <table class="table" id="table_consumables">
                        {% block tableConsumables %}
                        {% endblock tableConsumables %}
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock card %}
{% block createUrl %}
    {% url 'create-product' %}
{% endblock createUrl %}
